<launch>
    <!-- Global frame localization -->
    <node pkg="robot_localization" exec="ekf_node" name="ekf_global_filter_node" output="screen" >
        <param from="/home/atas/colcon_ws/src/OUTDOOR_NAV2/botanbot_localization/params/ekf_global.yaml" />
        <!-- Subscriptions (in yaml)
      odom0: odometry/gps
      odom1: base_controller/odom
      imu0:  imu/data
    -->
        <!-- Publications -->
        <remap from="odometry/filtered" to="odometry/global" />
    </node>
    <!-- Integrating GPS -->
    <node pkg="robot_localization" exec="navsat_transform_node" name="navsat_transform_node"  output="screen" >
        <!-- Correction to make IMU read 0 when facing east -->
        <param name="yaw_offset" value="3.14" />
        <!-- Magnetic Declination for your location - see http://www.ngdc.noaa.gov/geomag-web -->
        <param name="magnetic_declination_radians" value="0.0" />
        <!-- Pretend world is flat -->
        <param name="zero_altitude" value="false" />
        <!-- Publish a faster GPS output -->
        <param name="publish_filtered_gps" value="true" />
        <param name="frequency" value="10.0" />
        <!-- Use IMU, not odometry, for yaw -->
        <param name="use_odometry_yaw" value="true" />
        <!-- Subscriptions -->
        <remap from="imu/data" to="imu/data" />
        <remap from="gps/fix" to="gps/fix" />
        <remap from="odometry/filtered" to="odometry/global" />
        <!-- Publications -->
        <remap from="gps/filtered" to="gps/filtered" />
        <remap from="odometry/gps" to="odometry/gps" />
    </node>
</launch>